



<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    
    <meta charset="utf-8">
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    
    <meta itemprop="name" content="http4k Cloud Native tooling">
    <meta name="twitter:title" content="http4k Cloud Native tooling">
    <meta property="og:title" content="http4k Cloud Native tooling" />
    

    
    <meta name="description" content="Feature overview of the http4k-cloudnative module">
    <meta property="og:description" content="Feature overview of the http4k-cloudnative module" />
    <meta name="twitter:description" content="Feature overview of the http4k-cloudnative module">
    

    
    <link rel="canonical" href="https://www.http4k.org/guide/modules/cloud_native/">
    

    
    <meta name="author" content="David Denton (@daviddenton), IvanSanchez (@s4nchez)">
    <meta name="twitter:creator" content="David Denton (@daviddenton), IvanSanchez (@s4nchez)">
    

    
    <meta name="lang:clipboard.copy" content="Copy to clipboard">
    
    <meta name="lang:clipboard.copied" content="Copied to clipboard">
    
    <meta name="lang:search.language" content="en">
    
    <meta name="lang:search.pipeline.stopwords" content="True">
    
    <meta name="lang:search.pipeline.trimmer" content="True">
    
    <meta name="lang:search.result.none" content="No matching documents">
    
    <meta name="lang:search.result.one" content="1 matching document">
    
    <meta name="lang:search.result.other" content="# matching documents">
    
    <meta name="lang:search.tokenizer" content="[\s\-]+">
    
    <!-- ****** faviconit.com favicons ****** -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="icon" sizes="16x16 32x32 64x64" href="/img/favicon.ico">
    <link rel="icon" type="image/png" sizes="196x196" href="/img/favicon-192.png">
    <link rel="icon" type="image/png" sizes="160x160" href="/img/favicon-160.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96.png">
    <link rel="icon" type="image/png" sizes="64x64" href="/img/favicon-64.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16.png">
    <link rel="apple-touch-icon" href="/img/favicon-57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/favicon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/favicon-72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/img/favicon-144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/img/favicon-60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/img/favicon-120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon-76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/img/favicon-152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon-180.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="/img/favicon-144.png">
    <meta name="msapplication-config" content="/img/browserconfig.xml">
    <!-- ****** faviconit.com favicons ****** -->
    <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-3.0.4">
    
    
    
    <title>http4k Cloud Native tooling</title>
    
    
    
    <link rel="stylesheet" href="../../../assets/stylesheets/application.451f80e5.css">
    
    <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.22915126.css">
    
    
    
    
    <meta name="theme-color" content="#3f51b5">
    
    
    
    <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
    
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
    <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
    
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    <link rel="stylesheet" href="../../../css/site.css">
    
    
</head>



<body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="blue">

<svg class="md-svg">
    <defs>
        
        
        <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
    </defs>
</svg>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>

<a href="#installation-gradle" tabindex="1" class="md-skip">
    Skip to content
</a>


<header class="md-header" data-md-component="header">
    <nav class="md-header-nav md-grid">
        <div class="md-flex">
            <div class="md-flex__cell md-flex__cell--shrink">
                <a href="https://www.http4k.org/" title="http4k"
                   class="md-header-nav__button md-logo">
                    
                    <img src="../../../img/logo_1100x200_white_on_blue_trans.png" height="24">
                    
                </a>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
                <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch">
                <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
                    
                    
                    
                        <span class="md-header-nav__parent">
                          Developer Guide >
                        </span>
                    
                        <span class="md-header-nav__parent">
                          Modules >
                        </span>
                    
                    
                    Cloud native Configuration
                    
                </div>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
                
                
                <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
                
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
                
                
            </div>
            
            <div class="md-flex__cell md-flex__cell--shrink">
                <div class="md-header-nav__source">
                    


  


  <a href="https://github.com/http4k/http4k/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

                </div>
            </div>
            
        </div>
    </nav>
</header>

<div class="md-container">
    
    
    
    
    <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
            
            
            <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                    <div class="md-sidebar__inner">
                        <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.http4k.org/" title="http4k" class="md-nav__button md-logo">
      
        <img src="../../../img/logo_1100x200_white_on_blue_trans.png" width="48" height="48">
      
    </a>
    http4k
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/http4k/http4k/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../rationale/" title="Rationale & Concepts" class="md-nav__link">
      Rationale & Concepts
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../quickstart/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Developer Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Developer Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1" checked>
    
    <label class="md-nav__link" for="nav-5-1">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aws/" title="AWS" class="md-nav__link">
      AWS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../core/" title="Core" class="md-nav__link">
      Core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../json/" title="JSON handling" class="md-nav__link">
      JSON handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../clients/" title="HTTP & Websocket clients" class="md-nav__link">
      HTTP & Websocket clients
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metrics/" title="Metrics" class="md-nav__link">
      Metrics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../multipart/" title="Multipart forms" class="md-nav__link">
      Multipart forms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../resilience/" title="Resilience" class="md-nav__link">
      Resilience
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../servers/" title="Server backend" class="md-nav__link">
      Server backend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../serverless/" title="Serverless backend" class="md-nav__link">
      Serverless backend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../templating/" title="Templating" class="md-nav__link">
      Templating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contracts/" title="Typesafe contracts (OpenAPI3)" class="md-nav__link">
      Typesafe contracts (OpenAPI3)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../oauth/" title="OAuth" class="md-nav__link">
      OAuth
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Cloud native Configuration
      </label>
    
    <a href="./" title="Cloud native Configuration" class="md-nav__link md-nav__link--active">
      Cloud native Configuration
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation-gradle" title="Installation (Gradle)" class="md-nav__link">
    Installation (Gradle)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick-start" title="Quick start" class="md-nav__link">
    Quick start
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#observability" title="Observability" class="md-nav__link">
    Observability
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code" title="Code " class="md-nav__link">
    Code 
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jsonrpc/" title="JSON RPC" class="md-nav__link">
      JSON RPC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../xml/" title="XML handling" class="md-nav__link">
      XML handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../yaml/" title="YAML handling" class="md-nav__link">
      YAML handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hamkrest/" title="Hamkrest" class="md-nav__link">
      Hamkrest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../approvaltests/" title="Approval Testing" class="md-nav__link">
      Approval Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../webdriver/" title="WebDriver" class="md-nav__link">
      WebDriver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../chaos/" title="Chaos Testing" class="md-nav__link">
      Chaos Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../servicevirtualisation/" title="Service Virtualisaion" class="md-nav__link">
      Service Virtualisaion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../testing/" title="Application Testing" class="md-nav__link">
      Application Testing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/tdding_http4k/" title="TDDing http4k" class="md-nav__link">
      TDDing http4k
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../tutorials/documenting_apis_with_openapi/" title="Documenting http4k apps with OpenApi3" class="md-nav__link">
      Documenting http4k apps with OpenApi3
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Cookbook
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Cookbook
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/" title="How to use this guide" class="md-nav__link">
      How to use this guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/server_as_a_function/" title="Server as a function" class="md-nav__link">
      Server as a function
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/client_as_a_function/" title="Client as a function" class="md-nav__link">
      Client as a function
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/container_integration/" title="Container integration" class="md-nav__link">
      Container integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/simple_routing/" title="Simple routing" class="md-nav__link">
      Simple routing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/service_virtualisation/" title="Service Virtualisation with Servirtium" class="md-nav__link">
      Service Virtualisation with Servirtium
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/nestable_routes/" title="Nestable routes" class="md-nav__link">
      Nestable routes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/using_templates/" title="Templating engines" class="md-nav__link">
      Templating engines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/request_context/" title="Typesafe RequestContexts" class="md-nav__link">
      Typesafe RequestContexts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/typesafe_http_requests_with_lenses/" title="Typesafe HTTP requests with lenses" class="md-nav__link">
      Typesafe HTTP requests with lenses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/custom_json_marshallers/" title="Custom JSON marshallers" class="md-nav__link">
      Custom JSON marshallers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/html_forms/" title="HTML forms" class="md-nav__link">
      HTML forms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/multipart_forms/" title="Multipart forms" class="md-nav__link">
      Multipart forms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/generating_data_classes/" title="Generating data classes for messages" class="md-nav__link">
      Generating data classes for messages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/websockets/" title="Websockets" class="md-nav__link">
      Websockets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/typesafe_http_contracts/" title="Typesafe HTTP contracts" class="md-nav__link">
      Typesafe HTTP contracts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/structured_logging_with_events/" title="Structured Logging with Events" class="md-nav__link">
      Structured Logging with Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/basic_oauth_authorization_server/" title="Basic OAuth Server configuration" class="md-nav__link">
      Basic OAuth Server configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/custom_oauth_provider/" title="Custom OAuth Provider configuration" class="md-nav__link">
      Custom OAuth Provider configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/customised_servers/" title="Custom Server (SSL)" class="md-nav__link">
      Custom Server (SSL)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/principal_lookup/" title="Principal lookup" class="md-nav__link">
      Principal lookup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/monitoring/" title="Monitoring http4k" class="md-nav__link">
      Monitoring http4k
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/record_and_replay/" title="Recording/replaying HTTP traffic" class="md-nav__link">
      Recording/replaying HTTP traffic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/test_driven_apps/" title="Test driven apps" class="md-nav__link">
      Test driven apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../cookbook/nanoservices/" title="Nanoservices" class="md-nav__link">
      Nanoservices
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../performance/" title="Performance" class="md-nav__link">
      Performance
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../in_action/" title="In action" class="md-nav__link">
      In action
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Blog
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Blog
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blog/meet_http4k/" title="Meet http4k" class="md-nav__link">
      Meet http4k
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../blog/typesafe_websockets/" title="Typesafe Websockets" class="md-nav__link">
      Typesafe Websockets
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../support/" title="Getting Support" class="md-nav__link">
      Getting Support
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../contributing/" title="Contribute/Support http4k" class="md-nav__link">
      Contribute/Support http4k
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../code-of-conduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../api/" title="API docs" class="md-nav__link">
      API docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
  </ul>
</nav>
                    </div>
                </div>
            </div>
            
            
            <div class="md-content">
                <article class="md-content__inner md-typeset">
                    
                    
                    <a href="https://github.com/http4k/http4k/edit/master/src/docs/guide/modules/cloud_native/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                    
                    
                    <h1>Cloud native Configuration</h1>
                    
                    <h3 id="installation-gradle">Installation (Gradle)</h3>
<div class="codehilite"><pre><span></span><code><span class="n">compile</span> <span class="nl">group:</span> <span class="s2">&quot;org.http4k&quot;</span><span class="o">,</span> <span class="nl">name:</span> <span class="s2">&quot;http4k-cloudnative&quot;</span><span class="o">,</span> <span class="nl">version:</span> <span class="s2">&quot;3.256.0&quot;</span>
</code></pre></div>


<p>http4k applications are naturally at home operating in distributed, Cloud Native environments. Whilst simple to create, this module 
provides requisite tooling to get apps up and running with the minimum of effort to enable the following operational aspects:</p>
<h4 id="quick-start">Quick start</h4>
<p>Because http4k does not use reflection or annotation process for application startup, all of the supported Server-backends 
start up and shutdown very quickly - this is crucial for cloud-based environments where an orchestration framework might move 
instances around to redistribute load or avoid problematic server/rack/DCs.</p>
<h4 id="configuration">Configuration</h4>
<p>All application configuration should be injected via environmental variables. http4k provides an <code>Environment</code> object, along with 
typesafe variable binding using the in-built Lenses mechanism. This typesafe API is consistent with the other usages of Lenses 
throughout http4k, so should have a near-zero learning curve. Also provided are a set of extension methods for retrieving standard 
environmental config for service ports from Kubernetes.</p>
<h4 id="observability">Observability</h4>
<p>Orchestration software such as Kubernetes and CloudFoundry regularly query a set of diagnostic endpoints to monitor the state of an 
application. This module provides standardised <code>HttpHandler</code> implementations to model the following endpoints:</p>
<ul>
<li>Liveness - used to determine if the application is actually alive.</li>
<li>Readiness - used to determine if the application is available to receive production traffic from the cloud Load Balancer. This 
endpoint performs a series of diagnostic checks against it's dependencies (such as database connectivity) and collates the 
results to report back to the orchestrator. http4k provides the <code>ReadinessCheck</code> interface which can be implementaed as required 
and plugged into the endpoint.</li>
</ul>
<p>In Kubernetes, this set of endpoints is generally hosted on a second port to avoid the API clashes, so http4k provides the machinery to 
easily start these services on a different port to the main application API via the <code>Http4kK8sServer</code> object.</p>
<h4 id="code">Code <a href="https://github.com/http4k/http4k/blob/master/src/docs/guide/modules/cloud_native/example_k8s.kt"><img class="octocat"/></a></h4>
<div class="codehilite"><pre><span></span><code><span class="n">package</span> <span class="n">guide</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">cloud_native</span>

<span class="kn">import</span> <span class="nn">org.http4k.client.JavaHttpClient</span>
<span class="kn">import</span> <span class="nn">org.http4k.cloudnative.Http4kK8sServer</span>
<span class="kn">import</span> <span class="nn">org.http4k.cloudnative.asK8sServer</span>
<span class="kn">import</span> <span class="nn">org.http4k.cloudnative.env.Environment</span>
<span class="kn">import</span> <span class="nn">org.http4k.cloudnative.env.EnvironmentKey</span>
<span class="kn">import</span> <span class="nn">org.http4k.cloudnative.env.Secret</span>
<span class="kn">import</span> <span class="nn">org.http4k.cloudnative.health.Completed</span>
<span class="kn">import</span> <span class="nn">org.http4k.cloudnative.health.Health</span>
<span class="kn">import</span> <span class="nn">org.http4k.cloudnative.health.ReadinessCheck</span>
<span class="kn">import</span> <span class="nn">org.http4k.cloudnative.health.ReadinessCheckResult</span>
<span class="kn">import</span> <span class="nn">org.http4k.core.Filter</span>
<span class="kn">import</span> <span class="nn">org.http4k.core.Method.GET</span>
<span class="kn">import</span> <span class="nn">org.http4k.core.Request</span>
<span class="kn">import</span> <span class="nn">org.http4k.core.Response</span>
<span class="kn">import</span> <span class="nn">org.http4k.core.Status.Companion.OK</span>
<span class="kn">import</span> <span class="nn">org.http4k.core.Uri</span>
<span class="kn">import</span> <span class="nn">org.http4k.core.then</span>
<span class="kn">import</span> <span class="nn">org.http4k.filter.ClientFilters</span>
<span class="kn">import</span> <span class="nn">org.http4k.filter.DebuggingFilters</span>
<span class="kn">import</span> <span class="nn">org.http4k.lens.Lens</span>
<span class="kn">import</span> <span class="nn">org.http4k.lens.secret</span>
<span class="kn">import</span> <span class="nn">org.http4k.routing.bind</span>
<span class="kn">import</span> <span class="nn">org.http4k.server.SunHttp</span>
<span class="kn">import</span> <span class="nn">org.http4k.server.asServer</span>
<span class="kn">import</span> <span class="nn">kotlin.random.Random</span>

<span class="o">//</span> <span class="n">the</span> <span class="n">entire</span> <span class="n">k8s</span> <span class="n">application</span> <span class="n">consists</span> <span class="n">of</span> <span class="mi">2</span> <span class="n">servers</span> <span class="o">-</span> <span class="n">the</span> <span class="n">main</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">health</span>
<span class="nb">object</span> <span class="n">App</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">settings</span>
    <span class="n">private</span> <span class="n">val</span> <span class="n">otherServiceUri</span><span class="p">:</span> <span class="n">Lens</span><span class="o">&lt;</span><span class="n">Environment</span><span class="p">,</span> <span class="n">Uri</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">EnvironmentKey</span><span class="o">.</span><span class="n">k8s</span><span class="o">.</span><span class="n">serviceUriFor</span><span class="p">(</span><span class="s2">&quot;otherservice&quot;</span><span class="p">)</span>
    <span class="n">private</span> <span class="n">val</span> <span class="n">dbRole</span> <span class="o">=</span> <span class="n">EnvironmentKey</span><span class="o">.</span><span class="n">required</span><span class="p">(</span><span class="s2">&quot;database.user.role&quot;</span><span class="p">)</span>
    <span class="n">private</span> <span class="n">val</span> <span class="n">dbPassword</span> <span class="o">=</span> <span class="n">EnvironmentKey</span><span class="o">.</span><span class="n">secret</span><span class="p">()</span><span class="o">.</span><span class="n">required</span><span class="p">(</span><span class="s2">&quot;database.user.password&quot;</span><span class="p">)</span>

    <span class="n">operator</span> <span class="n">fun</span> <span class="n">invoke</span><span class="p">(</span><span class="n">env</span><span class="p">:</span> <span class="n">Environment</span><span class="p">):</span> <span class="n">Http4kK8sServer</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">define</span> <span class="n">the</span> <span class="n">main</span> <span class="n">app</span> <span class="n">API</span> <span class="o">-</span> <span class="n">it</span> <span class="n">proxies</span> <span class="n">to</span> <span class="n">the</span> <span class="s2">&quot;other&quot;</span> <span class="n">service</span>
        <span class="n">val</span> <span class="n">mainApp</span> <span class="o">=</span> <span class="n">ClientFilters</span><span class="o">.</span><span class="n">SetHostFrom</span><span class="p">(</span><span class="n">otherServiceUri</span><span class="p">(</span><span class="n">env</span><span class="p">))</span>
            <span class="o">.</span><span class="n">then</span><span class="p">(</span><span class="n">rewriteUriToLocalhostAsWeDoNotHaveDns</span><span class="p">)</span> <span class="o">//</span> <span class="n">this</span> <span class="n">line</span> <span class="n">only</span> <span class="n">here</span> <span class="n">to</span> <span class="n">make</span> <span class="n">the</span> <span class="n">example</span> <span class="n">work</span><span class="err">!</span>
            <span class="o">.</span><span class="n">then</span><span class="p">(</span><span class="n">JavaHttpClient</span><span class="p">())</span>

        <span class="o">//</span> <span class="n">define</span> <span class="n">the</span> <span class="n">health</span> <span class="n">app</span> <span class="n">API</span>
        <span class="n">val</span> <span class="n">healthApp</span> <span class="o">=</span> <span class="n">Health</span><span class="p">(</span>
            <span class="s2">&quot;/config&quot;</span> <span class="n">bind</span> <span class="n">GET</span> <span class="n">to</span> <span class="p">{</span> <span class="n">Response</span><span class="p">(</span><span class="n">OK</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">(</span><span class="n">env</span><span class="o">.</span><span class="n">toString</span><span class="p">())</span> <span class="p">},</span>
            <span class="n">checks</span> <span class="o">=</span> <span class="n">listOf</span><span class="p">(</span><span class="n">DatabaseCheck</span><span class="p">(</span>
                <span class="n">RandomlyFailingDatabase</span><span class="p">(</span><span class="n">dbRole</span><span class="p">(</span><span class="n">env</span><span class="p">),</span> <span class="n">dbPassword</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>
                <span class="p">)))</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">mainApp</span><span class="o">.</span><span class="n">asK8sServer</span><span class="p">(::</span><span class="n">SunHttp</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">healthApp</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">private</span> <span class="n">val</span> <span class="n">rewriteUriToLocalhostAsWeDoNotHaveDns</span> <span class="o">=</span> <span class="n">Filter</span> <span class="p">{</span> <span class="nb">next</span> <span class="o">-&gt;</span>
        <span class="p">{</span>
            <span class="n">println</span><span class="p">(</span><span class="s2">&quot;Rewriting ${it.uri} so we can proxy properly&quot;</span><span class="p">)</span>
            <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">uri</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">uri</span><span class="o">.</span><span class="n">authority</span><span class="p">(</span><span class="s2">&quot;localhost:9000&quot;</span><span class="p">)))</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">database</span> <span class="n">client</span> <span class="n">that</span> <span class="n">we</span> <span class="n">are</span> <span class="n">going</span> <span class="n">to</span> <span class="n">health</span> <span class="n">check</span>
<span class="k">class</span> <span class="nc">RandomlyFailingDatabase</span><span class="p">(</span><span class="n">private</span> <span class="n">val</span> <span class="n">user</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="n">Secret</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">init</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">the</span> <span class="n">secret</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">single</span><span class="o">-</span><span class="n">shot</span> <span class="n">value</span> <span class="n">whose</span> <span class="n">value</span> <span class="n">will</span> <span class="n">be</span> <span class="n">discarded</span> <span class="n">after</span> <span class="n">use</span>
        <span class="n">password</span><span class="o">.</span><span class="n">use</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="s2">&quot;setting up the database connection with creds: $user/$it&quot;</span><span class="p">)</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">fun</span> <span class="n">insertARecord</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Random</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">nextBoolean</span><span class="p">())</span> <span class="n">throw</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;oh no! $user has no access&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">implements</span> <span class="n">the</span> <span class="n">check</span> <span class="n">which</span> <span class="n">will</span> <span class="n">determine</span> <span class="k">if</span> <span class="n">this</span> <span class="n">service</span> <span class="ow">is</span> <span class="n">ready</span> <span class="n">to</span> <span class="n">go</span>
<span class="k">class</span> <span class="nc">DatabaseCheck</span><span class="p">(</span><span class="n">private</span> <span class="n">val</span> <span class="n">db</span><span class="p">:</span> <span class="n">RandomlyFailingDatabase</span><span class="p">)</span> <span class="p">:</span> <span class="n">ReadinessCheck</span> <span class="p">{</span>
    <span class="n">override</span> <span class="n">val</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;database&quot;</span>
    <span class="n">override</span> <span class="n">fun</span> <span class="n">invoke</span><span class="p">():</span> <span class="n">ReadinessCheckResult</span> <span class="p">{</span>
        <span class="n">db</span><span class="o">.</span><span class="n">insertARecord</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Completed</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">/**</span> <span class="nb">file</span> <span class="n">app</span><span class="o">.</span><span class="n">properties</span> <span class="n">contains</span>
<span class="n">database</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">role</span><span class="o">=</span><span class="n">admin</span>
<span class="n">database</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">password</span><span class="o">=</span><span class="n">myPassword</span>
 <span class="o">*/</span>

<span class="n">fun</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">val</span> <span class="n">defaultConfig</span> <span class="o">=</span> <span class="n">Environment</span><span class="o">.</span><span class="n">defaults</span><span class="p">(</span>
        <span class="n">EnvironmentKey</span><span class="o">.</span><span class="n">k8s</span><span class="o">.</span><span class="n">SERVICE_PORT</span> <span class="n">of</span> <span class="mi">8000</span><span class="p">,</span>
        <span class="n">EnvironmentKey</span><span class="o">.</span><span class="n">k8s</span><span class="o">.</span><span class="n">HEALTH_PORT</span> <span class="n">of</span> <span class="mi">8001</span><span class="p">,</span>
        <span class="n">EnvironmentKey</span><span class="o">.</span><span class="n">k8s</span><span class="o">.</span><span class="n">serviceUriFor</span><span class="p">(</span><span class="s2">&quot;otherservice&quot;</span><span class="p">)</span> <span class="n">of</span> <span class="n">Uri</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s2">&quot;https://localhost:8000&quot;</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="o">//</span> <span class="n">standard</span> <span class="n">chaining</span> <span class="n">order</span> <span class="k">for</span> <span class="n">properties</span> <span class="ow">is</span> <span class="n">local</span> <span class="nb">file</span> <span class="o">-&gt;</span> <span class="n">JVM</span> <span class="o">-&gt;</span> <span class="n">Environment</span> <span class="o">-&gt;</span> <span class="n">defaults</span> <span class="o">-&gt;</span> <span class="n">boom</span><span class="err">!</span>
    <span class="n">val</span> <span class="n">k8sPodEnv</span> <span class="o">=</span> <span class="n">Environment</span><span class="o">.</span><span class="n">fromResource</span><span class="p">(</span><span class="s2">&quot;app.properties&quot;</span><span class="p">)</span> <span class="n">overrides</span>
        <span class="n">Environment</span><span class="o">.</span><span class="n">JVM_PROPERTIES</span> <span class="n">overrides</span>
        <span class="n">Environment</span><span class="o">.</span><span class="n">ENV</span> <span class="n">overrides</span>
        <span class="n">defaultConfig</span>

    <span class="o">//</span> <span class="n">the</span> <span class="n">end</span><span class="o">-</span><span class="n">server</span> <span class="n">that</span> <span class="n">we</span> <span class="n">will</span> <span class="n">proxy</span> <span class="n">to</span>
    <span class="n">val</span> <span class="n">upstream</span> <span class="o">=</span> <span class="p">{</span> <span class="n">_</span><span class="p">:</span> <span class="n">Request</span> <span class="o">-&gt;</span> <span class="n">Response</span><span class="p">(</span><span class="n">OK</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">(</span><span class="s2">&quot;HELLO!&quot;</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">asServer</span><span class="p">(</span><span class="n">SunHttp</span><span class="p">(</span><span class="mi">9000</span><span class="p">))</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="n">val</span> <span class="n">server</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="n">k8sPodEnv</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="n">performHealthChecks</span><span class="p">()</span>

    <span class="n">server</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
    <span class="n">upstream</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">private</span> <span class="n">fun</span> <span class="n">performHealthChecks</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">val</span> <span class="n">client</span> <span class="o">=</span> <span class="n">DebuggingFilters</span><span class="o">.</span><span class="n">PrintResponse</span><span class="p">()</span><span class="o">.</span><span class="n">then</span><span class="p">(</span><span class="n">JavaHttpClient</span><span class="p">())</span>

    <span class="o">//</span> <span class="n">health</span> <span class="n">checks</span>
    <span class="n">client</span><span class="p">(</span><span class="n">Request</span><span class="p">(</span><span class="n">GET</span><span class="p">,</span> <span class="s2">&quot;http://localhost:8001/liveness&quot;</span><span class="p">))</span>
    <span class="n">client</span><span class="p">(</span><span class="n">Request</span><span class="p">(</span><span class="n">GET</span><span class="p">,</span> <span class="s2">&quot;http://localhost:8001/readiness&quot;</span><span class="p">))</span>
    <span class="n">client</span><span class="p">(</span><span class="n">Request</span><span class="p">(</span><span class="n">GET</span><span class="p">,</span> <span class="s2">&quot;http://localhost:8001/config&quot;</span><span class="p">))</span>

    <span class="o">//</span> <span class="n">proxied</span> <span class="n">call</span>
    <span class="n">client</span><span class="p">(</span><span class="n">Request</span><span class="p">(</span><span class="n">GET</span><span class="p">,</span> <span class="s2">&quot;http://localhost:8000&quot;</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div>
                    
                    
                    
                    
                    
                    


                    
                </article>
            </div>
        </div>
    </main>
    
    
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../oauth/" title="OAuth" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                OAuth
              </span>
            </div>
          </a>
        
        
          <a href="../jsonrpc/" title="JSON RPC" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                JSON RPC
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 - David Denton (@daviddenton), IvanSanchez (@s4nchez)
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
    
</div>

      <script src="../../../assets/javascripts/application.583bbe55.js"></script>

<script>app.initialize({version:"1.1.2",url:{base:"../../.."}})</script>




<script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-125143867-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>


</body>
</html>